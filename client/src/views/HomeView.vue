<template>
  <div class="wrapper">
    <header>
      <Header_for_auth v-if="success_auth" />
      <Header_for_not_auth v-else @auth="show_form_auth()"
        @reg="show_form_reg()" />
    </header>
    <span v-if="show_block == true">
      <div class="search__block">
        <input type="text" placeholder="–ß—Ç–æ–±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ –±—ã –Ω–∞–π—Ç–∏?">
        <div class="search__list">
          <div class="search__list-item">
            üëï –û–¥–µ–∂–¥–∞
          </div>
          <div class="search__list-item">
            üëû –û–±—É–≤—å
          </div>
          <div class="search__list-item">
            üíª –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞
          </div>
          <div class="search__list-item">
            üõãÔ∏è –î–ª—è –¥–æ–º–∞
          </div>
          <div class="search__list-item">
            üìö –ö–Ω–∏–≥–∏
          </div>
          <div class="search__list-item">
            üë∂üèª –î–ª—è –¥–µ—Ç–µ–π
          </div>
          <div class="search__list-item">
            üî®–£—Å–ª—É–≥–∏
          </div>
        </div>
      </div>
      <section class="yourBasket">
        <div class="title">
          –í–∞—à–∞ <span>üõí </span><a href="">–∫–æ—Ä–∑–∏–Ω–∞</a>
        </div>
        <div class="basket">
          <div class="basket__box">
            <img src="../img/xyupoimi.png" alt="">
            <div class="basket__box-desc">
              <p>
                –ì–µ–π–º–ø–∞–¥ –ø—Ä–æ–≤–æ–¥–Ω–æ–π –¥–ª—è
                Xbox 360 –∏ –ü–ö, –±–µ–ª—ã–π
              </p>
              <span class="price">
                14999‚ÇΩ
              </span>
            </div>
          </div>
          <div class="basket__box">
            <img src="../img/xyupoimi.png" alt="">
            <div class="basket__box-desc">
              <p>
                –ì–µ–π–º–ø–∞–¥ –ø—Ä–æ–≤–æ–¥–Ω–æ–π –¥–ª—è
                Xbox 360 –∏ –ü–ö, –±–µ–ª—ã–π
              </p>
              <span class="price">
                14999‚ÇΩ
              </span>
            </div>
          </div>
          <div class="basket__box">
            <img src="../img/xyupoimi.png" alt="">
            <div class="basket__box-desc">
              <p>
                –ì–µ–π–º–ø–∞–¥ –ø—Ä–æ–≤–æ–¥–Ω–æ–π –¥–ª—è
                Xbox 360 –∏ –ü–ö, –±–µ–ª—ã–π
              </p>
              <span class="price">
                14999‚ÇΩ
              </span>
            </div>
          </div>
        </div>
      </section>
    </span>
    <span v-else>
      <Authentication v-if="show_auth == true" @succes_auth="go_home()" />
      <Registration v-if="show_reg == true" @succes_reg="go_home()" />
    </span>
    <!-- <section class="buyFriend">
      <div class="title">
        –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —á—Ç–æ —É–∂–µ –µ—Å—Ç—å —É –≤–∞—à–∏—Ö <span>‚ù§Ô∏è</span><a href="">–¥—Ä—É–∑–µ–π </a>
      </div>
      <div class="products">
        <div class="product">
          <div class="friend">
            <img src="../img/header_logo.svg" alt="">
            <span class="name">–ê—Ä—Å–µ–Ω—á–∏–∫</span>
            <div class="recomenduet"> —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –¥–ª—è –≤–∞—Å:</div>
          </div>
          <div class="product-img">
            <img src="../img/product.png" alt="">
          </div>
          <div class="product-name">
            –í–æ–æ–±—Ä–∞–∂–∞—Ä–∏—É–º –£–ñ–ê–°–´
          </div>
          <span class="product-price">
            1500‚ÇΩ
          </span>
        </div>
        <div class="product">
          <div class="friend">
            <img src="../img/header_logo.svg" alt="">
            <span class="name">–ê—Ä—Å–µ–Ω—á–∏–∫</span>
            <div class="recomenduet"> —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –¥–ª—è –≤–∞—Å:</div>
          </div>
          <div class="product-img">
            <img src="../img/product.png" alt="">
          </div>
          <div class="product-name">
            –í–æ–æ–±—Ä–∞–∂–∞—Ä–∏—É–º –£–ñ–ê–°–´
          </div>
          <span class="product-price">
            1500‚ÇΩ
          </span>
        </div>
        <div class="product">
          <div class="friend">
            <img src="../img/header_logo.svg" alt="">
            <span class="name">–ê—Ä—Å–µ–Ω—á–∏–∫</span>
            <div class="recomenduet"> —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –¥–ª—è –≤–∞—Å:</div>
          </div>
          <div class="product-img">
            <img src="../img/product.png" alt="">
          </div>
          <div class="product-name">
            –í–æ–æ–±—Ä–∞–∂–∞—Ä–∏—É–º –£–ñ–ê–°–´
          </div>
          <span class="product-price">
            1500‚ÇΩ
          </span>
        </div>
      </div>
    </section>
    <section class="yourLike">
      <div class="title">
        –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —á—Ç–æ –µ—â–µ –≤–∞–º –º–æ–∂–µ—Ç –ø–æ–Ω—Ä–∞–≤–∏—Ç—å—Å—è:
      </div>
      <div class="products">
        <div class="product">
          <div class="product-img">
            <img src="../img/odelo.png" alt="">
          </div>
          <div class="product-name">
            –í–æ–æ–±—Ä–∞–∂–∞—Ä–∏—É–º –£–ñ–ê–°–´
          </div>
          <span class="product-price">
            1500‚ÇΩ
          </span>
        </div>
        <div class="product">
          <div class="product-img">
            <img src="../img/odelo.png" alt="">
          </div>
          <div class="product-name">
            –í–æ–æ–±—Ä–∞–∂–∞—Ä–∏—É–º –£–ñ–ê–°–´
          </div>
          <span class="product-price">
            1500‚ÇΩ
          </span>
        </div>
        <div class="product">
          <div class="product-img">
            <img src="../img/odelo.png" alt="">
          </div>
          <div class="product-name">
            –í–æ–æ–±—Ä–∞–∂–∞—Ä–∏—É–º –£–ñ–ê–°–´
          </div>
          <span class="product-price">
            1500‚ÇΩ
          </span>
        </div>
      </div>
    </section>


    <section class="notFound">
      <div class="title">
        –≠—Ç–æ –ø—Ä–æ—â–µ —á–µ–º –∫–∞–∂–µ—Ç—Å—è! –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç—Ä–∏ –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–∞!
      </div>
      <form action="">
        <div class="block_name">
          <label for="name">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞:</label>
          <input id="name" type="text">
        </div>
        <div class="block_desc">
          <label for="desc">–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞</label>
          <textarea id="desc" type="text"></textarea>
        </div>
        <div class="block_img">
          <label for="desc">–§–æ—Ç–æ(–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏)</label>
          <input id="desc" type="file">
        </div>
        <p>–ö–æ–≥–¥–∞ –æ–¥–∏–Ω –∏–∑ –Ω–∞—à–∏—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –æ—Ç–∫–ª–∏–∫–Ω–µ—Ç—Å—è –Ω–∞ –≤–∞—à –∑–∞–ø—Ä–æ—Å, –≤–∞–º –ø—Ä–∏–¥–µ—Ç
          —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.</p>
        <button id="submit">üëåüèª –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
      </form>
    </section>


    <footer>
      <div class="footer__inner">
        <div class="first_colomn">
          <a href=""><img src="../img/aple.svg" alt=""></a>
          <a href=""><img src="../img/qr.svg" alt=""></a>
        </div>
        <div class="second_colomn">
          <div class="first_colomn">
            <ul>
              <li><a href="">–û –Ω–∞—Å </a></li>
              <li><a href="">–ù–∞—à–∏ –ø—Ä–æ–¥–∞–≤—Ü—ã</a></li>
              <li><a href="">–û —Ç–æ–≤–∞—Ä–∞—Ö</a></li>
              <li><a href="">–ü—Ä–µ—Å—Å–∞</a></li>
            </ul>
          </div>
          <div class="second_colomn">
            <ul>
              <li><a href="">–ü–æ–º–æ—â—å </a></li>
              <li><a href="">–û–ø–ª–∞—Ç–∞</a></li>
              <li><a href="">–î–æ—Å—Ç–∞–≤–∫–∞</a></li>
              <li><a href="">–í–æ–∑–≤—Ä–∞—Ç</a></li>
            </ul>
          </div>
        </div>
        <div class="third_colomn">
          <a href=""><img src="../img/inst.svg" alt=""></a>
          <a href=""><img src="../img/twiter.svg" alt=""></a>
          <a href=""><img src="../img/facebook.svg" alt=""></a>
        </div>
      </div>
      <div class="foter_logo">
        <a href="">UMOM Market 2023</a>
      </div>
    </footer> -->
  </div>
</template>

<script>
import axios from 'axios';

import Registration from '@/components/Registration.vue'
import Authentication from '@/components/Authentication.vue'
import Header_for_auth from '@/components/Header_for_auth.vue'
import Header_for_not_auth from '@/components/Header_for_not_auth.vue'

export default {
  name: 'HomeView',
  components: {
    Registration,
    Authentication,
    Header_for_auth,
    Header_for_not_auth,
  },
  data() {
    return {
      status_token: false,
      show_reg: false,
      show_auth: false,
      success_auth: false,
      show_block: true
    }
  },
  async created() {
    await axios.get('http://localhost:8000/get_user_info', {
      headers: {
        token: localStorage.getItem('token')
      }
    })
      .then((response) => {
        console.log(response)
        if (response.status == 200) {
          this.success_auth == true
        }
      })
  },
  methods: {
    scrolle_to(anchor) {
      const el = document.getElementById(anchor);
      el.scrollIntoView({ behavior: "smooth", block: "end" })
    },
    show_form_auth() {
      this.show_block = false
      this.show_reg = false
      this.show_auth = true
    },
    show_form_reg() {
      this.show_block = false
      this.show_auth = false
      this.show_reg = true
    },
    go_home() {
      this.show_block = true
      this.success_auth = true
      this.show_auth = false
      this.show_reg = false
    }
  }
}
</script>

<style>
@import url(../assets/style.css);

@import url(https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;800&display=swap);
</style>
